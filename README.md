# Итак. Это – простой сайт ресторана на django с возможностью оформлять заказы.

## Быстрый старт

### 1. Клонировать репозиторий:

```bash
git clone https://github.com/MervocHimmerLOL/TypeRest
cd TypeRest
```

### 2. Установить зависимости:

```bash
pip install -r requirements.txt
```

### 3. Применить миграции:

```bash
python manage.py makemigrations
python manage.py migrate
```

### 4. Создать суперпользователя:

```bash
python manage.py createsuperuser
```

### 5. Запустить сервер:

```bash
python manage.py runserver
```

Сайт будет доступен по адресу: [http://127.0.0.1:8000/](http://127.0.0.1:8000/)

---

## Панель администратора (`/admin`)

Зарегистрированы основные модели проекта:

- **Dish** – блюда: название, цена, описание, изображение.
- **Order** и **OrderItems** – заказы пользователей и позиции внутри заказа.
- **User** – кастомизированная модель пользователя с добавленным номером телефона.

Через админку можно:
- Добавлять/редактировать/удалять блюда;
- Просматривать пользователей и их данные;
- Изменять статус заказов (например, "в обработке", "завершен").

---
## Модели

### 1. `Dish`
- `name` – название блюда;
- `price` – цена;
- `description` – описание;
- `image` – изображение.

Используется в меню и в заказах.

### 2. `Order` и `OrderItems`
- `Order` содержит данные о пользователе, времени и статусе;
- `OrderItems` — отдельные блюда внутри заказа с количеством и ценой.

#### Пример заказа:
Заказ #6 — Завершен 16.05.2025 11:42
Сумма: 52.00 ₽
Соль — 1 шт. × 12.00 ₽
Краб — 1 шт. × 40.00 ₽


### 3. `User` (кастомная)
- Расширена стандартная `AbstractUser`;
- Добавлено поле `phone_number`.

---

## Основные URL и view-функции

- `/` — главная страница (меню), шаблон: `home/index.html`
- `/login/` — вход в аккаунт, шаблон: `user/login.html`
- `/logout/` — выход
- `/register/` — регистрация, шаблон: `user/register.html`
- `/profile/` — профиль пользователя и его заказы
- `/cart/` — корзина, шаблон: `restaurant/cart.html`
- `/place_order/` — оформление заказа
- `/add/<int:dish_id>/` — увеличить количество
- `/remove/<int:dish_id>/` — уменьшить количество
- `/delete/<int:dish_id>/` — удалить полностью
- `/clear/` — очистить корзину

---

## Работа с изображениями

Изображения блюд загружаются при создании через админку. Сохраняются в папке: /media/dishes/

---

## Основные шаблоны

- 	/templates/base.html – шапка сайта, отображает основные кнопки манипуляции с профилем
- 	/templates/home/index.html – главная страница сайта, отображает меню, вошедшие пользователи могут формировать заказы
- 	/restaurant/templates/restaurant/cart.html – корзинка, в ней лежат выбранные пользователем позиции для заказа. На данной странице заказ можно оформить
- 	/restaurant/templates/restaurant/order_success.html – простая страничка, уведомляющая пользователя об успешном оформлении заказа
- 	/user/templates/user/login.html – страничка входа в профиль пользователя
- 	/user/templates/user/profile.html – страничка профиля пользователя, на ней отображены его заказы и их статус
- 	/user/templates/user/register.html – страничка регистрации
